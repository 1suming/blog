本文的分析基于jquery 1.9.1 版本，下面摘出来的这段代码（去掉了内部实现细节），是jquery的基础骨架，只要了解了下面这段代码，就算是对jquery有了入门的了解。先贴代码，代码不算复杂，下文会简单分析下。
```
// 代码七
(function( window, undefined ) {

var
	// 代码一
	_jQuery = window.jQuery,
	_$ = window.$,

	// 代码二
	jQuery = function( selector, context ) {
		// The jQuery object is actually just the init constructor 'enhanced'
		return new jQuery.fn.init( selector, context, rootjQuery );
	},
	//...
	
	// 代码三
	jQuery.fn = jQuery.prototype = {
	
		constructor: jQuery,
		init: function( selector, context, rootjQuery ) {
			//...
		},
	
		// The default length of a jQuery object is 0
		length: 0,
		
		...
	};
	jQuery.fn.init.prototype = jQuery.fn;

	// 代码四
	jQuery.extend = jQuery.fn.extend = function() {
		//...
	};
	
	// 代码五
	jQuery.extend({
		noConflict: function( deep ) {
			if ( window.$ === jQuery ) {
				window.$ = _$;
			}
	
			if ( deep && window.jQuery === jQuery ) {
				window.jQuery = _jQuery;
			}
	
			return jQuery;
		},
		//...
	});
	
	// 代码六
	window.jQuery = window.$ = jQuery;

})( window );
```
## $是什么
jquery的使用中，$无处不在，这神秘的$究竟是什么呢？从代码六`window.jQuery = window.$ = jQuery;`可以看出，$跟jQuery一样，是挂在window下的一个全局变量，它们都指向了`代码二`处声明的一个局部变量`jQuery`。初学者很容易在这里被绕晕，一部分是因为这里同时存在局部变量jQuery和全局变量jQuery，另外还有奇怪的代码缩进。
看看下面这句简单的代码，应该很眼熟，获取id为casper的元素的height值：
```
$('#casper').css('height');
```
这句简短的代码里面有亮点需要注意：

1. $('#casper')做了什么事情：简单来说，返回了一个jQuery对象。从代码二可以看出，这个所谓的jQuery对象，它的构造方法实际上是`jQuery.fn.init`，这里可以先忽略这点，下文再简单分析下。
2. .css('height')：这里的`css`实际是jQuery对象的原型方法，即`jQuery.fn.css`，实现细节略

## 未完待续
